<div class="container">
  <div class="tiles">

    <div class="info-bar" ng-show="!issues.length && !loading">
      <h3 class="fg-darkCobalt">No data provided</h3>
      <p>No matching entries according the current JIRA&trade; query</p>
    </div>

    <div id="loading" ng-show="loading"><i class="icon-clock"></i></div>

    <h3 ng-show="issues.length">{{workspaceActive.title}}</h3>

    <div class="toolbar-vertical" id="home-workspaces"
      ng-hide="workspaces.length < 2 || loading">
      <button title="{{workspace.title}}"
        ng-click="$parent.workspaceSwitchTo($index)"
        ng-repeat="workspace in workspaces"
        ng-class="{default: workspace == workspaceActive}">
        <i class="icon-{{workspace.icon}}"></i>
      </button>
    </div>

    <div class="tile padding10 {{issue._size}} bg-{{issue._colors.bg}} border-{{issue._colors.bd}} outline-{{issue._colors.ot}}"
      ng-repeat="issue in issues"
      ng-dblclick="tabOpen($index)"
      ng-class="{selected: issue._isClosed}">

      <div class="issue-icon bg-{{issue._colors.bd}}"><img ng-src="{{issue.fields.status.iconUrl}}"
        alt="{{issue.fields.status.name}}"></div>

      <div class="tile-content">
        <h4 class="fg-{{issue._colors.fg}}">{{issue.key}}</h4>
        <h6 class="fg-{{issue._colors.fg}}">{{issue.fields.reporter.displayName | limitTo: 16}}</h6>
        <p class="fg-{{issue._colors.fg}}">{{issue.fields.summary}}</p>
      </div>

      <div class="brand">
        <span class="name fg-{{issue._colors.fg}}" ng-hide="timer.isStarted(issue)">
          {{issue.fields.issuetype.name}}
          <sup ng-show="issue.fields.timeestimate">{{issue.fields.timeestimate}}</sup>
        </span>
        <span class="name" ng-show="timer.canBeStopped(issue)" ng-bind="timer.elapsedTime(issue)"></span>
        <span class="badge playing" ng-show="timer.isStarted(issue)"></span>
      </div>

      <div class="progress-bar" ng-show="issue.fields.progress.percent">
        <div class="bar bg-{{issue._colors.fg}}" style="width: {{issue.fields.progress.percent}}%"></div>
      </div>

      <div class="toolbar">
        <div class="button-set">
          <button title="Start progress" class="active"
            ng-show="timer.canBeStarted(issue)" ng-click="timer.start(issue)"><i class="icon-play"></i></button>

          <button title="Save time and stop progress" class="active"
            ng-show="timer.canBeStopped(issue)" ng-click="timer.stop(issue)"><i class="icon-stop"></i></button>

          <button title="Stop progress without time-saving" class="active"
            ng-show="timer.canBeStopped(issue)" ng-click="timer.discard(issue)"><i class="icon-remove"></i></button>

          <button title="Actions" class="active transitions"
            ng-show="issue._transitions"><i class="icon-list"></i></button>

          <button title="Open this issue in JIRA&trade;" class="active"
            ng-click="tabOpen($index)"><i class="icon-new-tab"></i></button>
        </div>
      </div>

      <div class="transitions bg-darker">
        <a href="#" ng-click="transition()" class="bg-white close">&times;</a>
        <div class="padding10">
          <div ng-repeat="trans in issue._transitions">
            <a href="#" class="fg-orange" ng-click="transition(issue, trans)"><small>{{trans.name}}</small></a>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
