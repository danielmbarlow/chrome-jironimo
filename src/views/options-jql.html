<div class="container container-options">

  <navigation current="jql"></navigation>

  <h1>
    Jironimo
    <small>Workspaces</small>
  </h1>

  <form class="span12"
    ng-submit="save('workspaces', workspaces)">
      <div class="grid">
        <div class="row" ng-repeat="workspace in workspaces">

          <div class="span2">
            <label class="input-control radio">
              <input type="radio" name="isDefault"
                ng-click="workspaceSetAsDefault(workspace)"
                ng-checked="workspace.isDefault">
              <span class="check"></span> Default
            </label>

            <i class="icon-{{workspace.icon}} place-right" style="margin-top: 11px;"></i>
          </div>

          <div class="span9">
            <div class="span3">
              <div class="input-control text">
                <input type="text" maxlength="40" required
                  title="{{ 'placeholderOptionsJqlTitle' | i18n }}"
                  placeholder="{{ 'placeholderOptionsJqlTitle' | i18n }}"
                  ng-model="workspace.title">
              </div>
            </div>

            <div class="span2">
              <div class="input-control text">
                <input type="text" maxlength="18" required
                  title="{{ 'titleOptionsJqlIcon' | i18n }}"
                  placeholder="{{ 'placeholderOptionsJqlIcon' | i18n }}"
                  ng-model="workspace.icon">
              </div>
            </div>

            <div class="span4">
              <div class="input-control checkbox">
                  <label>
                      <input type="checkbox" ng-model="workspace.changesNotify" />
                      <span class="check"></span>
                      Check for updates and notify
                  </label>
              </div>
            </div>

            <div class="input-control text">
              <input type="text" required
                title="{{ 'placeholderOptionsJqlQuery' | i18n }}"
                placeholder="{{ 'placeholderOptionsJqlQuery' | i18n }}"
                ng-model="workspace.query">

              <span class="label info"
                ng-if="workspace.changesNotify && workspaceQueryIsValidForWatch(workspace.query)">
                Please, ensure that "<b>updated</b>" or "<b>updatedDate</b>" are placed
                after the "<b>ORDER BY</b>"
              </span>
            </div>
          </div>

          <div class="span1 text-center">
            <button ng-click="workspaceRemove(workspace)" style="margin-top: 5px;"><i
              class="icon-cancel-2"></i></button>
          </div>

        </div>
      </div>

      <button ng-click="workspaceAdd()" class="success"><i
          class="icon-plus-2"></i> Add one more</button>

      <a href="http://metroui.org.ua/v2/icons.html" class="button link" target="_blank">
        <i class="icon-link"></i>
        Click here to open the list of available icons
      </a>

      <hr>

      <div>
        <input type="submit" value="{{ 'btnSave' | i18n }}" class="default">

        <button ng-click="workspaceImport()" class="primary place-right"><i
          class="icon-spin"></i> Import favorites from JIRA&trade;</button>
      </div>
  </form>

</div>
